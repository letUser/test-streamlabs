(function(e){function t(t){for(var a,l,r=t[0],s=t[1],c=t[2],d=0,h=[];d<r.length;d++)l=r[d],Object.prototype.hasOwnProperty.call(i,l)&&i[l]&&h.push(i[l][0]),i[l]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);u&&u(t);while(h.length)h.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,l=1;l<n.length;l++){var s=n[l];0!==i[s]&&(a=!1)}a&&(o.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},i={app:0},o=[];function l(e){return r.p+"js/"+({}[e]||e)+"."+{"chunk-2d0c95b3":"69eb4191","chunk-2d21e093":"fdd1f31b"}[e]+".js"}function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,a){n=i[e]=[t,a]}));t.push(n[2]=a);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.src=l(e);var c=new Error;o=function(t){s.onerror=s.onload=null,clearTimeout(d);var n=i[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+a+": "+o+")",c.name="ChunkLoadError",c.type=a,c.request=o,n[1](c)}i[e]=void 0}};var d=setTimeout((function(){o({type:"timeout",target:s})}),12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(t)},r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/test-streamlabs/",r.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=n("5c96"),o=n.n(i),l=(n("0fae"),n("dccd")),r=n.n(l),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("MainComponent")],1)},c=[],d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._m(0),n("div",{staticClass:"table-wrapper"},[n("div",{staticClass:"pre-table-info"},[n("div",{staticClass:"selectedItems"},[n("p",{directives:[{name:"show",rawName:"v-show",value:e.checkSelectedLength,expression:"checkSelectedLength"}],staticClass:"title"},[e._v(" Выбраны линии №: ")]),e.checkSelectedLength?n("div",e._l(e.selectedItems,(function(t){return n("el-tag",{key:t.id,staticStyle:{margin:"0 0.5em 0 0"},attrs:{effect:"plain",size:"mini",closable:""},on:{close:function(n){return e.tagClose(t)}}},[e._v(" "+e._s(t.id)+" ")])})),1):e._e()]),n("div",{staticClass:"import-tools"},[n("el-button",{attrs:{disabled:!e.selectedItems.length,size:"mini",title:"Экспортировать данные в JSON.",plain:""},on:{click:e.exportJSON}},[n("i",{staticClass:"el-icon-download"})])],1)]),n("el-table",{ref:"table",staticStyle:{"user-select":"none",margin:"0","min-height":"500px"},attrs:{data:e.tableData,"row-class-name":"no-hover","row-key":"id",width:"fit-content","max-height":"500",doLayout:"",border:""},on:{"selection-change":e.handleSelection}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{prop:"id",label:"№",width:"65"}}),n("el-table-column",{attrs:{prop:"name",label:"Наименование",width:"300",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[a.editable?n("div",[n("el-input",{attrs:{size:"mini"},model:{value:a.name,callback:function(t){e.$set(a,"name",t)},expression:"row.name"}})],1):n("div",[e._v(" "+e._s(a.name)+" ")])]}}])}),n("el-table-column",{attrs:{prop:"value",label:"Значение",width:"300",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[a.editable?n("div",[n("el-input",{attrs:{size:"mini"},model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"row.value"}})],1):n("div",[e._v(" "+e._s(a.value)+" ")])]}}])}),n("el-table-column",{key:e.updateTools,attrs:{width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[a.editable?n("div",[n("el-button",{staticClass:"tool-icon",attrs:{type:"success",title:"Сохранить",size:"mini",circle:""},on:{click:function(t){return e.handleEdit(a)}}},[n("i",{staticClass:"el-icon-check"})]),n("el-button",{staticClass:"tool-icon",attrs:{title:"Отменить",size:"mini",circle:""},on:{click:function(t){return e.cancelEdit(a)}}},[n("i",{staticClass:"el-icon-close"})])],1):n("div",[n("el-button",{staticClass:"tool-icon",attrs:{disabled:e.blockEdit,title:"Редактировать",size:"mini",circle:""},on:{click:function(t){return e.handleEdit(a)}}},[n("i",{staticClass:"el-icon-edit"})]),n("DeleteButton",{attrs:{disabled:e.checkSelectedLength},on:{delete:function(t){return e.handleDelete(a)}}})],1)]}}])},[n("template",{slot:"header"},[n("el-button",{staticClass:"tool-icon",attrs:{disabled:e.blockEdit,type:"primary",title:"Добавить",size:"mini",circle:""},on:{click:e.addRow}},[n("i",{staticClass:"el-icon-plus"})]),n("DeleteButton",{directives:[{name:"show",rawName:"v-show",value:e.checkSelectedLength,expression:"checkSelectedLength"}],attrs:{title:"Удалить все"},on:{delete:function(t){return e.handleDelete(e.selectedItems)}}})],1)],2)],1)],1),n("hr",{staticClass:"hor-line"}),n("TextArea",{attrs:{keyUpd:e.exportUpd,exported:e.exported},on:{send:e.sendJSON}})],1)},u=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header"},[n("h3",[e._v(" Редактируемая таблица ")])])}],h=n("5530"),p=(n("4e82"),n("4de4"),n("b0c0"),n("159b"),n("d81d"),n("a434"),n("d3b7"),n("3ca3"),n("ddb0"),n("aa47")),f=n("d4ec"),b=function e(t,n){var a,i,o;Object(f["a"])(this,e),this.id=null!==(a=t.id)&&void 0!==a?a:n,this.name=t.name,this.value=t.value,this.editable=null!==(i=t.editable)&&void 0!==i&&i,this.new=null!==(o=t.new)&&void 0!==o&&o},m={name:"MainComponent",data:function(){return{tableData:[],selectedItems:[],prevLineState:null,blockEdit:!1,updateTools:!1,exported:null,exportUpd:!1}},computed:{checkSelectedLength:function(){var e;return!(null===(e=this.selectedItems)||void 0===e||!e.length)}},methods:{handleSelection:function(e){this.selectedItems=e.sort((function(e,t){return e.id-t.id})),this.updateTools=!this.updateTools},tagClose:function(e){this.handleSelection(this.selectedItems.filter((function(t){return t.id!==e.id}))),this.$refs.table.toggleRowSelection(e),this.updateTools=!this.updateTools},handleEdit:function(e){e.editable||(this.prevLineState=Object(h["a"])({},e)),this.blockEdit=!e.editable,e.editable=!e.editable,e.new&&(e.new=!1,this.$message({duration:4e3,type:"success",showClose:!0,message:"Линия №: ".concat(this.tableData.length," успешно добавлена.")})),this.updateTools=!this.updateTools},cancelEdit:function(e){e.new?this.tableData.pop():(e.name=this.prevLineState.name,e.value=this.prevLineState.value),e.editable=!1,this.blockEdit=!1,this.updateTools=!this.updateTools},handleDelete:function(e){var t,n,a=this,i="",o=!1;Array.isArray(e)?(null===(t=this.$refs.table)||void 0===t||null===(n=t.selection)||void 0===n?void 0:n.length)==this.tableData.length?(this.selectedItems=[],this.tableData=[],i="Все данные уcпешно удалены.",o=!0):e.forEach((function(t,n){a.tableData=a.tableData.filter((function(e){return e.id!==t.id})).map((function(e,t){return new b(Object(h["a"])(Object(h["a"])({},e),{},{id:t+1}))})),i+=n==e.length-1?t.id:t.id+", "})):(this.tableData=this.tableData.filter((function(t){return t.id!==e.id})).map((function(e,t){return new b(Object(h["a"])(Object(h["a"])({},e),{},{id:t+1}))})),i=e.id);this.$message({duration:4e3,type:"error",showClose:!0,message:Array.isArray(e)?o?i:"Линии №: ".concat(i," уcпешно удалены."):"Линия № ".concat(i," уcпешно удалена.")})},addRow:function(){this.tableData.push(new b({id:this.tableData.length+1,name:"",value:"",editable:!0,new:!0})),this.blockEdit=!0},rowDrop:function(){var e=document.querySelector(".el-table__body-wrapper tbody"),t=this;p["a"].create(e,{onEnd:function(e){var n=e.newIndex,a=e.oldIndex,i=t.tableData[a];t.tableData.splice(a,1),t.tableData.splice(n,0,i)}})},sendJSON:function(e){try{var t=JSON.parse(e);this.tableData=t.map((function(e,t){return new b(Object(h["a"])(Object(h["a"])({},e),{},{id:t+1,editable:!1,new:!1}))})),this.$message({message:"JSON успешно импортирован.",type:"success",showClose:!0,duration:4e3})}catch(n){throw this.$message({message:"Неверная структура JSON.",type:"error",showClose:!0,duration:4e3}),new Error(n)}},exportJSON:function(){try{this.exported=JSON.stringify(this.selectedItems),this.exportUpd=!this.exportUpd}catch(e){throw this.$message({message:"Не удалось экспортировать JSON.",type:"error",showClose:!0,duration:4e3}),new Error(e)}}},created:function(){if(Array.isArray(this.tableData))for(var e=1;e<9;e++)this.tableData.push(new b({id:e,name:"name".concat(e),value:"val".concat(e),editable:!1,new:!1}))},mounted:function(){this.rowDrop()},components:{DeleteButton:function(){return n.e("chunk-2d0c95b3").then(n.bind(null,"5992"))},TextArea:function(){return n.e("chunk-2d21e093").then(n.bind(null,"d49f"))}}},v=m,w=n("2877"),g=Object(w["a"])(v,d,u,!1,null,null,null),y=g.exports,k={name:"App",components:{MainComponent:y}},S=k,O=(n("034f"),Object(w["a"])(S,s,c,!1,null,null,null)),x=O.exports;a["default"].config.productionTip=!1,a["default"].use(o.a,{locale:r.a}),new a["default"]({render:function(e){return e(x)}}).$mount("#app")},"85ec":function(e,t,n){}});
//# sourceMappingURL=app.fd37883d.js.map